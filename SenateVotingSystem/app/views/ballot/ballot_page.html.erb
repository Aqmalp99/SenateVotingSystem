<!doctype html>
<html>
  <body>
    <div id="cloud-container"></div>
  </body>
</html>

<style>
  input{
      height: 50px;
      width: 20%;
      margin-left: 40%;
  }

  input[type=number]{
      margin-left: 0%;
      width: 100%;
  }
</style>

<div class="ballot_header">

  <%= link_to voter_home_page_path, class: "btn btn-outline-primary" do %>
    <i>Back</i>
  <%end %>
  <h1>Ballot Page</h1>
</div>



<% if flash.any? %>
  <% flash.each do |type, msg| %>
    <div class="alert alert-danger" role="alert" style="text-align: center; width: 25%; margin: 0 auto;">
      <%= msg %>
    </div>
  <% end %>
<% end %>
<br>
<%= form_with url: post_vote_path, method: :post do |form| %>
<table class="ui table">
  <thead>

    <% @parties_candidates.keys.each do |party| %>
    <th>
      <%= form.label party.to_sym, party %>
      <%= form.number_field party %>
    </th>
    <% end %>

  </thead>
</table>
  <%= form.submit "Submit Above The Line Vote", class: "btn btn-primary btn-lg" %>
<% end %>

<div class="vertical_line1"></div>
<div class="vertical_line2"></div>
<div class="vertical_line3"></div>
<div class="vertical_line4"></div>
<div class="vertical_line5"></div>
<div class="vertical_line6"></div>
<div class="vertical_line7"></div>

<div class="middle_margin"></div>

<div class="dynamic_vertical_line1"></div>
<div class="dynamic_vertical_line2"></div>
<div class="dynamic_vertical_line3"></div>
<div class="dynamic_vertical_line4"></div>
<div class="dynamic_vertical_line5"></div>
<div class="dynamic_vertical_line6"></div>
<div class="dynamic_vertical_line7"></div>

<%= form_with url: post_vote_path, method: :post do |form| %>
<table class="ui table">
  <thead>
    <% @parties_candidates.keys.each do |party| %>
      <th><%= party %></th>
    <% end %>
  </thead>
  <tbody>

    <% @parties_candidates.keys.each do |party| %>
      <td>
        <table class="ui table">
          <% @parties_candidates[party].each do |candidate| %>
            <tr>
              <td>
                  <%= form.label candidate.id,"#{candidate.first_name} #{candidate.surname}"  %>
                  <%= form.number_field candidate.id %>

              </td>
            </tr>
          <% end %>
        </table>
      </td>
    <% end %>


  </tbody>

</table>
    <%= form.submit "Submit Below The Line Vote", class: "btn btn-primary btn-lg" %>
  <% end %>

</head>
<body>

<button onclick="HideAboveLine()">Hide Above Line</button><br>
<button onclick="HideBelowLine()">Hide Below Line</button>

<script>
    function HideAboveLine() {
        const tables = document.getElementsByClassName("ui table");
        const AboveButton = document.getElementsByClassName("btn btn-primary btn-lg")

        if (tables[0].style.visibility === "hidden") {
            tables[0].style.visibility = "visible";
            AboveButton[0].style.visibility = "visible";
            document.getElementsByClassName("vertical_line1")[0].style.visibility = "visible"
            document.getElementsByClassName("vertical_line2")[0].style.visibility = "visible"
            document.getElementsByClassName("vertical_line3")[0].style.visibility = "visible"
            document.getElementsByClassName("vertical_line4")[0].style.visibility = "visible"
            document.getElementsByClassName("vertical_line5")[0].style.visibility = "visible"
            document.getElementsByClassName("vertical_line6")[0].style.visibility = "visible"
            document.getElementsByClassName("vertical_line7")[0].style.visibility = "visible"
        } else {
            tables[0].style.visibility = "hidden";
            AboveButton[0].style.visibility = "hidden";
            document.getElementsByClassName("vertical_line1")[0].style.visibility = "hidden"
            document.getElementsByClassName("vertical_line2")[0].style.visibility = "hidden"
            document.getElementsByClassName("vertical_line3")[0].style.visibility = "hidden"
            document.getElementsByClassName("vertical_line4")[0].style.visibility = "hidden"
            document.getElementsByClassName("vertical_line5")[0].style.visibility = "hidden"
            document.getElementsByClassName("vertical_line6")[0].style.visibility = "hidden"
            document.getElementsByClassName("vertical_line7")[0].style.visibility = "hidden"
        }
    }

    function HideBelowLine(){
        const tables = document.getElementsByClassName("ui table");
        const BelowButton = document.getElementsByClassName("btn btn-primary btn-lg");
        for(let i = 1; i < tables.length; i++) {
            if (tables[i].style.visibility === "hidden") {
                tables[i].style.visibility = "visible";
                BelowButton[1].style.visibility = "visible";
            } else {
                tables[i].style.visibility = "hidden";
                BelowButton[1].style.visibility = "hidden";
            }
        }

        if (document.getElementsByClassName("dynamic_vertical_line1")[0].style.visibility === "hidden") {

            document.getElementsByClassName("dynamic_vertical_line1")[0].style.visibility = "visible"
            document.getElementsByClassName("dynamic_vertical_line2")[0].style.visibility = "visible"
            document.getElementsByClassName("dynamic_vertical_line3")[0].style.visibility = "visible"
            document.getElementsByClassName("dynamic_vertical_line4")[0].style.visibility = "visible"
            document.getElementsByClassName("dynamic_vertical_line5")[0].style.visibility = "visible"
            document.getElementsByClassName("dynamic_vertical_line6")[0].style.visibility = "visible"
            document.getElementsByClassName("dynamic_vertical_line7")[0].style.visibility = "visible"

        } else {
            
            document.getElementsByClassName("dynamic_vertical_line1")[0].style.visibility = "hidden"
            document.getElementsByClassName("dynamic_vertical_line2")[0].style.visibility = "hidden"
            document.getElementsByClassName("dynamic_vertical_line3")[0].style.visibility = "hidden"
            document.getElementsByClassName("dynamic_vertical_line4")[0].style.visibility = "hidden"
            document.getElementsByClassName("dynamic_vertical_line5")[0].style.visibility = "hidden"
            document.getElementsByClassName("dynamic_vertical_line6")[0].style.visibility = "hidden"
            document.getElementsByClassName("dynamic_vertical_line7")[0].style.visibility = "hidden"
        }


    }
</script>

</body>
</html>




